(this["webpackJsonpsecured-recovery"]=this["webpackJsonpsecured-recovery"]||[]).push([[0],{106:function(e,t,c){},110:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),s=c(44),a=c.n(s),i=(c(53),c(28)),o=c(4),l=c(11),j=c.n(l),u=c(13),d=c(12),b=c(3),h=c.n(b),p=c(7),O=c(14),x=c(48),y=c(45),m=c.n(y),v=c(27),f=function(e,t){return v.AES.encrypt(e,t).toString()},k=function(e,t,c){return"".concat(e,"/c").concat(t,"t").concat(c,"==")},g=function(e,t){for(var c=[],r=t<=0?1:t,n=Math.ceil(e.length/t),s=1,a=0;r>=s;s++,a+=n){var i=e.slice(a,a+n);c.push({data:k(i,s,r)})}return c};function C(e,t,c){return N.apply(this,arguments)}function N(){return N=Object(p.a)(h.a.mark((function e(t,c,r){var n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={error:!1,errorMsg:"",chunks:[]},s=f(t,c),g(s,r).map(function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=n.chunks,e.t1=d.a,e.t2=Object(d.a)({},t),e.t3={},e.next=7,m.a.toDataURL(t.data);case 7:e.t4=e.sent,e.t5={qrcodeDataURL:e.t4},e.t6=(0,e.t1)(e.t2,e.t3,e.t5),e.t0.push.call(e.t0,e.t6),e.next=17;break;case 13:e.prev=13,e.t7=e.catch(0),n.error=!0,n.errorMsg=e.t7.message;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}c(106);var S=c(1);var w=function(){var e=Object(x.a)(),t=e.register,c=e.setValue,n=e.handleSubmit,s=e.reset,a=Object(r.useState)(!1),i=Object(O.a)(a,2),o=i[0],l=i[1],b=Object(r.useState)(1),y=Object(O.a)(b,2),m=y[0],v=y[1],f=Object(r.useState)({error:!1,errorMsg:"",chunks:[]}),k=Object(O.a)(f,2),g=k[0],N=k[1],w=Object(r.useState)(!1),z=Object(O.a)(w,2),E=z[0],q=z[1],D=function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=N,e.next=3,C(t.secret,t.encryptionKey,parseInt(t.encryptionChunks,10));case 3:e.t1=e.sent,(0,e.t0)(e.t1),q(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){return l((function(e){return!e}))};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("form",{className:"encrypt-form",onSubmit:n((function(e){return E?(t=e.startOverClean,q(!1),void(t&&(c("encryptionChunks",1),v(1),s()))):D(e);var t})),children:[Object(S.jsxs)("div",{className:"secret-field form-field",children:[Object(S.jsx)("label",{htmlFor:"secret",children:"The secret *:"}),Object(S.jsx)("textarea",Object(d.a)(Object(d.a)({id:"secret"},t("secret",{required:!0,disabled:E})),{},{rows:"10"}))]}),Object(S.jsxs)("div",{className:"encryption-settings-submit-group",children:[Object(S.jsxs)("div",{className:"encryption-chunks-field form-field",children:[Object(S.jsx)("label",{htmlFor:"encryptionChunks",children:"Split result in chunks:"}),Object(S.jsx)("input",Object(d.a)(Object(d.a)({id:"encryptionChunks"},t("encryptionChunks",{disabled:E})),{},{min:"1",max:"9",step:"1",value:m,type:"range",onChange:function(e){return v(e.target.value)}})),Object(S.jsx)("span",{className:"encryption-chunks-value",children:m})]}),Object(S.jsxs)("div",{className:"encryption-key-field form-field",children:[Object(S.jsx)("label",{htmlFor:"encryptionKey",children:"Encryption key *:"}),Object(S.jsx)("input",Object(d.a)(Object(d.a)({id:"encryptionKey"},t("encryptionKey",{required:!0,disabled:E})),{},{type:o?"text":"password"})),o&&Object(S.jsx)(j.a,{path:u.f,size:1.2,onClick:R,title:"Hide encryption key"}),!o&&Object(S.jsx)(j.a,{path:u.e,size:1.2,onClick:R,title:"Show encryption key"})]}),Object(S.jsx)("button",{type:"submit",className:E?"form-start-over-btn":"form-submit-btn",children:E?"Start Over":"Encrypt Secret"}),E&&Object(S.jsxs)("div",{className:"encryption-startover-clean",children:[Object(S.jsx)("input",Object(d.a)(Object(d.a)({id:"startOverClean"},t("startOverClean",{required:!1})),{},{type:"checkbox"})),Object(S.jsx)("label",{htmlFor:"startOverClean",children:"Clean Start Over?"})]})]})]}),E&&Object(S.jsxs)("div",{className:"encrypted-secret",children:[Object(S.jsxs)("small",{className:"notice",children:[Object(S.jsx)(j.a,{path:u.b,size:1,title:"See result below"}),Object(S.jsx)("span",{children:"Encrypted Secret"}),Object(S.jsx)(j.a,{path:u.b,size:1,title:"See result below"})]}),g.error&&Object(S.jsxs)("div",{className:"encrypted-result-error",children:[Object(S.jsx)(j.a,{path:u.a,size:2,onClick:R,title:"Error while encrypting secret"}),Object(S.jsx)("span",{children:g.errorMsg})]}),g.chunks.length&&Object(S.jsx)("div",{className:"encrypted-result-success ".concat(1===g.chunks.length?"one-chunk":""),children:g.chunks.map((function(e,t){return Object(S.jsxs)("div",{className:"encrypted-result-chunk chunk-".concat(t+1),children:[Object(S.jsxs)("div",{className:"chunk-number",children:["Encrypted Secret Chunk #",t+1]}),Object(S.jsx)("img",{className:"chunk-qrcode-img",src:e.qrcodeDataURL,alt:"QRCode Chunk #".concat(t+1)}),Object(S.jsxs)("div",{className:"chunk-operations",children:[Object(S.jsxs)("button",{className:"chunk-qrcode-download",type:"button",onClick:function(){return function(e,t){var c=document.createElement("a");c.href=t,c.setAttribute("download","encrypted-secret-chunk-".concat(e,"-qrcode.png")),c.click()}(t+1,e.qrcodeDataURL)},children:[Object(S.jsx)(j.a,{path:u.d,size:1,title:"Download"}),Object(S.jsxs)("span",{children:["Download QRCode #",t+1]})]}),Object(S.jsx)("div",{className:"chunk-ops-andor",children:"and/or"}),Object(S.jsx)("div",{className:"chunk-data",children:e.data}),Object(S.jsxs)("button",{className:"chunk-secret-copy",type:"button",onClick:function(){return c=t+1,r=e.data,navigator.clipboard.writeText(r),void alert("Encrypted secret chunk #".concat(c," copied to clipboard!"));var c,r},children:[Object(S.jsx)(j.a,{path:u.c,size:1,title:"Copy"}),Object(S.jsxs)("span",{children:["Copy Secret #",t+1]})]})]})]},t)}))})]})]})};var z=function(){return Object(S.jsx)("h2",{children:"TODO: Decrypt Page"})};var E=function(){return Object(S.jsxs)(i.a,{children:[Object(S.jsx)("header",{children:Object(S.jsx)("nav",{children:Object(S.jsxs)("ul",{children:[Object(S.jsx)("li",{children:Object(S.jsxs)(i.b,{to:"/secured-recovery",activeClassName:"is-active",exact:!0,children:[Object(S.jsx)(j.a,{path:u.h,size:1}),Object(S.jsx)("span",{children:"Encrypt"})]})}),Object(S.jsx)("li",{children:Object(S.jsxs)(i.b,{to:"/decrypt",activeClassName:"is-active",exact:!0,children:[Object(S.jsx)(j.a,{path:u.i,size:1}),Object(S.jsx)("span",{children:"Decrypt"})]})})]})})}),Object(S.jsx)("main",{className:"content",children:Object(S.jsxs)(o.d,{children:[Object(S.jsx)(o.b,{path:"/decrypt",children:Object(S.jsx)(z,{})}),Object(S.jsx)(o.b,{path:"/secured-recovery",children:Object(S.jsx)(w,{})}),Object(S.jsx)(o.b,{render:function(){return Object(S.jsx)(o.a,{to:"/secured-recovery"})}})]})}),Object(S.jsx)("footer",{children:Object(S.jsxs)("small",{className:"copyright",children:[Object(S.jsxs)("span",{children:["\xa9 Tanase Butcaru / MIT License / Secured Recovery v","0.1.0"]}),Object(S.jsx)("a",{href:"https://github.com/tbutcaru/secured-recovery",target:"_blank",rel:"noreferrer",title:"Secured Recovery on GitHub",children:Object(S.jsx)(j.a,{path:u.g,size:1})})]})})]})};a.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(E,{})}),document.getElementById("root"))},53:function(e,t,c){},81:function(e,t){}},[[110,1,2]]]);
//# sourceMappingURL=main.c9bcf307.chunk.js.map